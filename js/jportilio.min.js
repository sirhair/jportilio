function checkMedia(){var t="none";return t=window.matchMedia("(min-width: 768px)").matches?window.matchMedia("(min-width: 992px)").matches?window.matchMedia("(min-width: 1200px)").matches?"lg":"md":"sm":"xs"}function workItemWidth(t,n){var i="2";return i="xs"===t?n.ws_xs:"sm"===t?n.ws_sm:"md"===t?n.ws_md:n.ws_lg}$(function(){$.fn.jportilio=function(t){function n(t){if(!(null!=s.filter&&s.filter.length>0))return!0;var n=t.data("tags");if(null!=n&&n.length>0){var i=!1;if(n=n.split(","),n.map(function(t){return-1!=$.inArray(t,s.filter)?(i=!0,!0):void 0}),i===!0)return!0}return!1}function i(t){var i=checkMedia(),e=workItemWidth(i,s),o=t.width()/e,a=s.ratio*parseFloat(o),r=0,c=0,l=0,h=0;t.children(".jprt-item").each(function(){var i=$(this);if("cover"===i.data("content-show")&&i.find(".jprt-content").css({height:a+"px"}),"new_section"===i.data("content-show")){var s=i.find(".jprt-content");s.css({position:"absolute",visibility:"hidden",display:"block",width:t.width()+"px"}),s.css({position:"",visibility:"",display:""})}if(n(i)){if(i.css({display:"block",height:a+"px",width:o+"px",top:c*a+h+"px",left:r*o+"px"}),i.find(".jprt-caption").css({height:a+"px"}),i.find(".jprt-hover").css({height:a+"px"}),i.find(".jprt-content").hasClass("show_new_section")){var d=i.find(".jprt-content"),w=d.outerHeight();d.css({"margin-top":a+"px",width:t.width()+"px","margin-left":-(r*o)+"px"}),l=w,i.find(".jprt-arrow-down-border").css({display:"block"})}else i.find(".jprt-arrow-down-border").css({display:"none"});r++}else i.css({height:"0px",width:"0px"}),i.css({display:"none"});r>=e&&(r=0,c++,h+=l,l=0)}),r>0&&e>r&&(h+=l),t.css({height:(c+1)*a+h+"px"})}var e,s=$.extend({},$.fn.jportilio.defaults,t),o=this;return $(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){o.each(function(){i($(this),"")})},100)}),this.each(function(){var t=$(this);i(t),$("button[data-jprtgrid="+t.attr("id")+"]").on("click",function(){var n=$(this).data("tag");null!=n&&(n=n.split(",")),$(this).hasClass("jprt-btn-active")?($(this).removeClass("jprt-btn-active"),null!=n&&s.filter.length>0&&n.map(function(t){s.filter.splice($.inArray(t,s.filter),1)})):($(this).addClass("jprt-btn-active"),0==s.filter.length?null!=n&&n.length>0&&(s.filter=n):null!=n&&n.length>0&&n.map(function(t){s.filter.push(t)})),i(t)}),$('div[data-content-show="redirect"]').on("click",function(){var t=$(this).data("content-show");if(null!=t&&"redirect"===t){var n=$(this).data("content-url");null!=n&&(window.location.href=n)}}),$('button[data-content-show="redirect"]').on("click",function(){var t=$(this).data("content-show");if(null!=t&&"redirect"===t){var n=$(this).data("content-url");null!=n&&(window.location.href=n)}}),$('div[data-content-show="cover"][class*="jprt-item"]').on("click",function(){var t=$(this).find(".jprt-content");t.toggleClass("show")}),$('div[data-content-show="new_section"]').on("click",function(){var n=$(".show_new_section");n.each(function(){$(this).removeClass("show_new_section")});var e=$(this).find(".jprt-content");e.hasClass("new_section_shown")?e.removeClass("new_section_shown"):(e.addClass("show_new_section"),e.addClass("new_section_shown")),i(t)})})},$.fn.jportilio.defaults={filter:[],ratio:"0.75",ws_xs:1,ws_sm:2,ws_md:3,ws_lg:4}});